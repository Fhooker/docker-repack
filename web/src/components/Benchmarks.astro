---
import { parseBenchmarkData } from "../benchmark_parser";
import BenchmarkChart from "./BenchmarkChart.astro";

const fullData = await parseBenchmarkData();

const dataset = fullData.images.sort((a, b) => b.times_faster - a.times_faster);
---

<h1 class="text-2xl font-bold">Benchmarks</h1>
<div class="columns-3">
  {
    dataset.map((image) => (
      <div>
        <a href={"#" + image.name_slug}>
          <code class="p-1 font-mono overflow-x-auto">{image.name}</code>
           - {image.times_faster}x faster
        </a>
      </div>
    ))
  }
</div>

{dataset.map((image) => <BenchmarkChart image={image} />)}
